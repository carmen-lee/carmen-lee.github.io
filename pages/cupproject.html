<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <!-- css file -->
    <link rel="stylesheet" type="text/css" href="/style.css">
    
    <!-- font awesome -->
    <!-- <script src="https://kit.fontawesome.com/31149d48b0.js" crossorigin="anonymous"></script> -->
    
    <!-- favicon -->
    <link rel="icon" type="image/x-icon" href="/img/favicon.ico">
    
    
    <title>Cup Protector</title>

</head>
<body>
    
    <header class="sticky">
        <nav class="navbar navbar-expand-lg navbar-light fixed-top"  style="background-color: #fafafa;">
            <a class="navbar-brand" href="/index.html"><h3>Carmen Lee</h3></a>
            <button class="navbar-toggler custom-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
              <ul class="navbar-nav">
                <li class="nav-item">
                  <a class="nav-link" href="/pages/about.html">About Me</a>
                </li>
                <li class="nav-item active">
                  <a class="nav-link" href="/pages/projects.html">Projects</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/img/Lee_Carmen_Resume.pdf" target="_blank">Resume</a>
                </li>
              </ul>
            </div>
        </nav>
    </header>

    <div class="container-fluid container-top-5 title center"><h1><b>Cup Protector - WIP</b></h1></div>
    <!-- <br> -->
    <div class="container-fluid center">in collaboration with Bradley Higgens and <a href="https://victortaksheyev.github.io/portfolio/">Victor Taksheyev</a></div>
    <img class="project-pic" src="" alt="">
    <div class="container-fluid center">C++ ✿ Swift ✿ Hardware ✿ IOS App Development</div>
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-2"></div>
            <div class="col-md-8 project-body">

                <h3>Motivation</h3>
                <p>
                  According to a 2016 survey, 8% of college students have reported to have had their drinks spiked and almost 80% of them were female. Las Vegas, my home and community, is a city known for its nightlife and entertainment. There are fun activitites, restaurants and bars available and open 24/7, but they can become a breeding ground for illicit activities.
                </p>
                <p>
                  As a solution to this problem, we've come up with a device that will act as a lid for the drink and alert the owner if it has been tampered with. We hope that bars and restuarants can provide thier customers with this device in order to avoid incidents of spiked drinks from happening.
                </p>

                <h3>Programming the Arduino</h3>
                <img class="project-pic" src="/img/cupprotector_img/arduino.png" style="width: 200px;" alt="Arduino Nano 33 IOT">
                <p class="caption">Arduino Nano 33 IOT</p>
                <p>
                  For this project, we wanted to simply collect data, display it, and then do logic according to the data. We chose to use an Arduino Nano 33 IOT module due to the embedded sensors as well as its Bluetooth® Low Energy capabilities to send data to a cellphone. 
                </p>
                <h4>Collecting and Manipulating Data</h4>
                <p>
                  The way the device can detect if it has been tampered with is movement. The embedded accelerometer was useful for collecting that data. We manipulated the acceleration data to get magnitude which is what we use to monitor movement and create thresholds.
                </p>
                <img class="project-pic" src="/img/cupprotector_img/arduino_serialplot.png" alt="Serial Plot">
                <p class="caption">Plotting Magnitude over Time</p>
                
                <p>
                  In the initial testing, we used the LED on the module as an indicator to detect movement. After it was working as expected, we enabled Bluetooth on the Arduino and turn the LED off via our <a href = "#app">IOS mobile app</a> that we developed. Ensuring that everything was still working, we continued to connect more <a href = "#hardware">external modules</a> to create an actual alarm-like system with buzzers and lights.
                </p>
                <img class="project-pic" src="/img/cupprotector_img/arduino_light_demo.gif" alt="Arduino Light Turning On">
                <p class="caption">Demo - Movement Detected</p>
                <img class="project-pic" src="/img/cupprotector_img/arduino_code_snippet.png" alt="Arduino Code Snippet" style="width: 600px;">
                <p class="caption">Code Snippet</p>

                <h4>Improvements</h4>
                <p>
                  One thing we noticed as we were trying to detect movement was the amount noise we were collecting. It made it hard to detect whether or not the movement that was detected was a "real" spike attempt, or just a table bump. In other words, it was hard to isolate False-Positives. As this problem is common and already solved, we hope to implement a solution in the future.
                </p>
                <img class="project-pic" src="/img/cupprotector_img/arduino_serialplot_demo.gif" alt="Serial Plot Noise">
                <p class="caption">Magnitude Noise</p>


                <h3 id="hardware">Hardware</h3>
                <img class="project-pic" src="/img/cupprotector_img/casing.png" alt="3D printed casing">
                <p class="caption">3D Printed Plastic Casing</p>
                <img class="project-pic" src="/img/cupprotector_img/pcb.png" alt="pcb" style="width: 400px;">
                <p class="caption">Custom Printed Circuit Board</p>
                <img class="project-pic" src="/img/cupprotector_img/soldering.jpg" alt="soldering on smd components">
                <p class="caption">Soldering on surface mount device components</p>
                <img class="project-pic" src="/img/cupprotector_img/prototype.png" alt="prototype" style="height: 400px;">
                <p class="caption">Prototype</p>

                <h3 id="app">Developing the App</h3>
                <p>
                  The purpose of the app is to act as a simple remote to disarm the device to ensure that all bluetooth connections were working properly. Initially, I looked into using <a href="https://appinventor.mit.edu/">MIT App Inventor</a> because of how quick and easy it is to design and build an app with declarative programming. Unfortunately, it did not support Bluetooth Low Energy and I had to find another solution. I ended up developing the app with Swift. Using Swift, I was able to design first and then add all the logic afterwards. 
                </p>
                <div class="center">
                  <img class="project-pic-inline" src="/img/cupprotector_img/app1.PNG" alt="initial app preview" style="height: 400px;">
                  <img class="project-pic-inline" src="/img/cupprotector_img/app2.PNG" alt="initial app preview" style="height: 400px;">
                </div>
                <p class="caption">Initial App Design</p>

                <p>
                  Enabling the connection between the app and the Arduino module proved to be the most difficult part. Understanding how BLE worked was fundamental in the process of making sure all the necessary data was fed through properly and that all connections were working. 
                </p>
                <p>
                  The app is able to:
                  <ol>
                    <li>Scan and connect to the BLE module through its universally unique identifier (UUID)</li>
                    <li>Enable and disable functions according to connection status</li>
                    <li>Read and display the battery level of the module (currently simulates the battery level)</li>
                    <li>Turn off the external modules, ie. LED lights and buzzers</li>
                    <li>Disconnect from the BLE module</li>
                  </ol>
                </p>

                <h4>Improvements</h4>
                <p>
                  Our app is only available for IOS which is not practical or ideal. In the future, we would like to deploy a web application that would be available to any device. Ideally, it would not have to be installed on the device prior to use, but instead accessed through a QR code which has the same capabilities to control the device.
                </p>
                <img class="project-pic" src="/img/cupprotector_img/wireframe.png" alt="prototype" style="">
                <p class="caption">Informal Mobile App Wireframe for Future Development</p>
                



            </div>
            <div class="col-md-2"></div>
        </div>
    </div>

    <div class="containter-fluid center container-top-5">
        <a href="" target="_blank"><img class="icon" src="/img/icon/github.png"></a>
    </div>

    <section>
    <div class="container-fluid center button">
        <button type="button" class="btn btn-primary" onclick="window.location='/pages/projects.html';">← Projects</button>
    </div>
    </section>
    
    <footer>
        <p class="center">Made with magic by Carmen</p>
    </footer>
    

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
  </body>
</html>